{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  button: document.querySelector(\"button\")\n}\n\nrefs.form.addEventListener('submit', onSubmitPromise)\n\nconst formData = {};\nlet counter = 0;\n\nfunction onSubmitPromise(evt) {\n  evt.preventDefault();\n  const elements = evt.currentTarget.elements;\n\n  formData[elements.delay.name] = elements.delay.value\n  formData[elements.step.name] = elements.step.value\n  formData[elements.amount.name] = elements.amount.value\n  console.log(formData)\n\n  const DELAY = formData.delay;\n  const AMOUNT = Number(formData.amount);\n  console.log(AMOUNT)\n\n  const idCreatePromise = setInterval(() => {\n    console.log(\"START\")\n    counter += 1;\n    console.log(counter)\n    createPromise(counter, DELAY)\n\n    if (counter === AMOUNT) {\n      clearInterval(idCreatePromise);\n      console.log(\"THAT ALL\")\n      return;\n    }\n    console.log(\"INVISIBLE CONSOLE\")\n  }, DELAY)\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promises = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve(\"✅ Все хорошо, лови промис\")\n    } else {\n      reject(\"❌ Все плохо, ничего не получится\")\n    }\n    return;\n  })\n\n  promises.then(resp => console.log(resp)).catch(err => console.log(err))\n}\n"],"names":["refs","onSubmitPromise","formData","counter","evt","elements","DELAY","AMOUNT","idCreatePromise","createPromise","position","delay","shouldResolve","resolve","reject","resp","err"],"mappings":"wFAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,QAAQ,CACzC,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAe,EAEpD,MAAMC,EAAW,CAAA,EACjB,IAAIC,EAAU,EAEd,SAASF,EAAgBG,EAAK,CAC5BA,EAAI,eAAc,EAClB,MAAMC,EAAWD,EAAI,cAAc,SAEnCF,EAASG,EAAS,MAAM,MAAQA,EAAS,MAAM,MAC/CH,EAASG,EAAS,KAAK,MAAQA,EAAS,KAAK,MAC7CH,EAASG,EAAS,OAAO,MAAQA,EAAS,OAAO,MACjD,QAAQ,IAAIH,CAAQ,EAEpB,MAAMI,EAAQJ,EAAS,MACjBK,EAAS,OAAOL,EAAS,MAAM,EACrC,QAAQ,IAAIK,CAAM,EAElB,MAAMC,EAAkB,YAAY,IAAM,CAMxC,GALA,QAAQ,IAAI,OAAO,EACnBL,GAAW,EACX,QAAQ,IAAIA,CAAO,EACnBM,EAA4B,EAExBN,IAAYI,EAAQ,CACtB,cAAcC,CAAe,EAC7B,QAAQ,IAAI,UAAU,EACtB,MACD,CACD,QAAQ,IAAI,mBAAmB,CAChC,EAAEF,CAAK,CACV,CAEA,SAASG,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAErB,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC5CF,EACFC,EAAQ,2BAA2B,EAEnCC,EAAO,kCAAkC,CAG/C,CAAG,EAEQ,KAAKC,GAAQ,QAAQ,IAAIA,CAAI,CAAC,EAAE,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CACxE"}